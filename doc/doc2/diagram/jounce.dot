
digraph {
	rankdir="LR"

	input
	
	der1 //[label="s"]
	der2 //[label="s"]
	der3 //[label="s"]
	der4 //[label="s"]
	
	int1 [label="1/s"]

	add1 //[label=""]
	add2 //[label=""]
	add3 //[label=""]
	add4 //[label=""]
	add5 //[label=""]
	
	input -> der1 [label="x_{ref}"]
	der1 -> der2 [label="\dot{x}_{ref}"]
	der2 -> der3 [label="\ddot{x}_{ref}"]
	der3 -> der4 [label="\dddot{x}_{ref}"]
	der4 -> add5 [label="\ddddot{x}_{ref}"]

	input -> add1
	der1 -> add2
	der2 -> add3
	der3 -> add4
	
	add1 -> c2 -> add5
	add2 -> c3 -> add5
	add3 -> c4 -> add5
	add4 -> c5 -> add5
	
	add1 -> int1 -> c1 -> add5
	
	add5 -> jounce
	
	jounce -> alpha [label="alpha"]
	jounce -> force [label="thrust"]
	
	alpha -> int2 [label="alpha"]
	int2 -> int3 [label="omega"]
	int3 -> force [label="q"]

	force -> int4 [label="a"]
	int4 -> int5 [label="v"]
	
	int4 -> add2 [label="v"]
	int5 -> add1 [label="x"]
	force -> add3 [label="a"]

	{rank = same; der1; int5; add1}
	{rank = same; der2; int4; add2}
	{rank = same; der3; force; add3}
	
}	


